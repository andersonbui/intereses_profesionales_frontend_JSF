<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      >

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="/css/default.css"/>
        <h:outputStylesheet library="css" name="jsfcrud.css"/>
        <h:outputStylesheet library="css" name="dock.css"/>
        <h:outputStylesheet library="css" name="usuario.css"/>
        <h:outputStylesheet library="css" name="steps.css"/>
        <h:outputScript library="js" name="jsfcrud.js"/>
        <h:outputStylesheet name="/css/cssLayout.css"/>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"></link>
        <!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous"></link>
        <script  src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>

        <title><ui:insert name="title">Default Title</ui:insert></title>

        <script type="text/javascript">

            function graficar(id, json = null) {
                if (json !== null) {
                    if (id !== null) {
                        console.log(json);
                        var ctx = document.getElementById(id);
                        new Chart(ctx, json);
                    }
                }
            }
        </script>
    </h:head>

    <h:body class="question-page unified-theme new-topbar">

        <p:growl id="growl" life="3000" />

        <div  class="top-bar js-top-bar _fixed top-bar__network">
            <div class="-container">
                <div id="top" class="top layout-topbar">
                    <nav class="navbar navbar-expand-lg navbar-light bg-light">
                        <h:link outcome="/vistas/inicio.xhtml" class="navbar-brand" >Intereses profesionales</h:link>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>

                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav mr-auto float-r"  style=" background-color: blue">
                                <h:form>
                                    <!--
                                    <li class="nav-item">
                                        <a class="nav-link" href="#">Link</a>
                                    </li>
                                    <li class="nav-item dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Dropdown
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                            <a class="dropdown-item" href="#">Action</a>
                                            <a class="dropdown-item" href="#">Another action</a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="#">Something else here</a>
                                        </div>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link disabled" href="#">Disabled</a>
                                    </li>-->
                                    <!--                                    <li class="nav-item active">
                                                                            <p:commandLink class="nav-link" actionListener="{loginController.salir()}" >Salir  <span class="sr-only">(current)</span></p:commandLink>
                                                                        </li>-->
                                </h:form> 
                            </ul>
                            <h:form class="form-inline my-2 my-lg-0">
                                <!--   <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search"></input>
                                                                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>-->
                                <p:link href="/faces/vistas/miperfil/VerPerfil.xhtml" style="padding: 0px 5px"><b>#{loginController.personaActual.email}</b></p:link>
                                <ul class="navbar-nav mr-auto float-r"  style="margin: 0px 5px">
                                    <h:form class="float-r " >
                                        <li class="nav-item active">
                                            <p:commandLink class="btn btn-outline-success my-2 my-sm-0" actionListener="#{loginController.salir()}" >Salir  <span class="sr-only">(current)</span></p:commandLink>
                                        </li>
                                    </h:form>
                                </ul>
                            </h:form>


                        </div>
                    </nav>
                </div>
            </div>
        </div>

        <div class="container">
            <div id="left-sidebar" class="left-sidebar js-pinned-left-sidebar">
                <h:form>
                    <h:messages globalOnly="true" />
                    <p:growl id="messages" showDetail="true"/>
                    <p:menu style="width: 185px;">
                        <p:submenu label="Opciones" rendered="#{loginController.permisoEstudiante()}">
                            <p:menuitem value="Inicio" outcome="/vistas/inicio.xhtml"/>
                            <p:menuitem value="Perfil"  outcome="/vistas/miperfil/VerPerfil.xhtml"/>
                        </p:submenu>
                        <p:submenu label="Encuesta" rendered="#{loginController.estudiante}">
                            <p:menuitem value="Realizar encuesta" action="#{encuestaController.prepararYCrear}" />
                            <p:menuitem value="Ver mis resultados" outcome="#{misResultadosController.verMisResultados(loginController.personaActual)}" />
                        </p:submenu>
                        <p:submenu label="Estadisticas"  rendered="">
                        </p:submenu>
                        <p:submenu label="Administracion" rendered="#{loginController.isDocente()}">
                            <p:menuitem value="Estadisticas Ambiente/Personalidad" outcome="/vistas/encuesta/Estadistica.xhtml" />
                            <p:menuitem value="Estadisticas Por estudiante" outcome="/vistas/encuesta/EstadisticaMultiple.xhtml" />
                            <p:menuitem value="Estadisticas Areas" outcome="/vistas/encuesta/EstadisticaAreas.xhtml" />
                            <p:menuitem value="Generar mineria" rendered="#{loginController.isAdmin()}" action="#{mineriaController.entrenarModelo()}" />
                        </p:submenu>

                        <p:submenu label="Gestion datos" rendered="#{loginController.docente}"  >
                            <p:menuitem value="Usuarios" outcome="/vistas/persona/List.xhtml" />
                            <p:menuitem value="Area" outcome="/vistas/area/List.xhtml"  rendered="#{loginController.isAdmin()}" />
                            <p:menuitem value="Codigo Institucion" outcome="/vistas/codigoInstitucion/List.xhtml"  /> 
                            <p:menuitem value="Preguntas ambiente" outcome="/vistas/preguntaAmbiente/List.xhtml"  /> 
                            <p:menuitem value="Preguntas personalidad" outcome="/vistas/preguntaPersonalidad/List.xhtml"  /> 
                            <p:menuitem value="AmbientePersonalidad" outcome="/vistas/ambientePersonalidad/List.xhtml" />
                            <p:menuitem value="Grado" outcome="/vistas/grado/List.xhtml" />
                            <p:menuitem value="Institucion"  url="/instituciones/" outcome="/vistas/institucion/List.xhtml" />
                            <p:menuitem value="Materia" outcome="/vistas/materia/List.xhtml" />
                            <p:menuitem value="ciudad" outcome="/vistas/ciudad/List.xhtml" />
                            <p:menuitem value="departamento" outcome="/vistas/departamento/List.xhtml" />
                            <p:menuitem value="pais" outcome="/vistas/pais/List.xhtml" />
                            <p:menuitem value="Encuesta" outcome="/vistas/encuesta/List.xhtml" />
                        </p:submenu>

                        <p:submenu label="Gestion datos" rendered="#{false}" >
                            <p:menuitem value="Pregunta"  action="#{encuestaController.prepararYCrear}"/>
                            <p:menuitem value="Usuario" outcome="/vistas/usuario/List.xhtml" />
                            <p:menuitem value="Estudiante"  url="/estudiantes/"  outcome="/vistas/estudiante/List.xhtml" />
                            <p:menuitem value="EnviarMesaje"  action="#{registroController.enviarMensaje}"/>
                            <p:menuitem value="EstudianteGrado" outcome="/vistas/estudianteGrado/List.xhtml" />
                            <p:menuitem value="Gusto Materia" outcome="/vistas/materiaGusto/List.xhtml" />
                            <p:menuitem value="Nota" outcome="/vistas/nota/List.xhtml" />
                            <p:menuitem value="PersonahasInstitucion" outcome="/vistas/personahasInstitucion/List.xhtml" />
                            <p:menuitem value="Pregunta page" outcome="/vistas/preguntas-page/List.xhtml" />
                            <p:menuitem value="Respuesta" outcome="/vistas/respuesta/List.xhtml" />
                        </p:submenu>
                    </p:menu>
                </h:form> 
            </div>
            <p:dialog header="Basic Dialog" widgetVar="dlg1" minHeight="40">
                <p:outputLabel id="molestia"   value="Resistance to PrimeFaces is futile!" />
            </p:dialog>
            <div id="content" class="snippet-hidden">
                <ui:insert name="content">Content</ui:insert>
            </div>
        </div>

    </h:body>


</html>
