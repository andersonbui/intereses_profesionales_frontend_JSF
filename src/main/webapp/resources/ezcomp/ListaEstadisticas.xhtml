<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:ezcomp="http://xmlns.jcp.org/jsf/composite/ezcomp">

    <!-- simple components https://www.apuntesdejava.com/2014/06/tutorial-jsf-22-sesion-5-facelets.html#google_vignette -->
    <!-- INTERFACE -->
    <cc:interface  >
        <cc:attribute name="listaResultadoEstMultiple" required="true"  />
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
            <h:panelGroup id="id_panelGroup">
                <button type="button" value=""   onclick="generarpdf()" >
                    <i class='far fa-file-pdf' style='font-size:20px;color:red'></i> Imprimir 
                </button>
                <div>
                    <br/>
                    <h:outputFormat style="width:100%" rendered="#{cc.attrs.listaResultadoEstMultiple == null || listaResultadoEstMultiple.isEmpty()}" >
                        No se encontraron datos
                    </h:outputFormat>
                </div>
                <p:repeat id="id_datosrepeat" rendered="#{cc.attrs.listaResultadoEstMultiple != null}"
                          value="#{cc.attrs.listaResultadoEstMultiple}" var="result"> 

                    <br/>
                    <h6  style="text-align: center;">#{result.encuesta.fechaCreacion}</h6>
                    <!-- ADD_PAGE -->
                    <!--<h:panelGrid columns="2" style="width:100%" columnClasses="logo,detail"--> 
                                 <!--rendered="{estadisticaController.getItemsByEmail() != null}">-->
                    <p:outputPanel>
                        <ezcomp:EstadisticaPersonalidad  rendered="#{result.personalidad != null and result.personalidad != ''}"  
                            personalidad="#{result.personalidad}" ></ezcomp:EstadisticaPersonalidad>

                        <ezcomp:EstadisticaEstilosAprendizaje rendered="#{result.respuestaPorEstilo != null}" 
                            listRespuestasXEstilos="#{result.respuestaPorEstilo}" ></ezcomp:EstadisticaEstilosAprendizaje>

                        <ezcomp:EstadisticaAmbientes id_grafico="#{result.encuesta.idEncuesta}" rendered="#{result.graficoAmbiente != null and result.graficoAmbiente != ''}" 
                            riasec="#{result.listaDatRiasec}"  graficoAmbiente="#{result.graficoAmbiente}"></ezcomp:EstadisticaAmbientes>


                        <ezcomp:EstadisticaInteligenciasMultiples rendered="#{result.respuestaPorInteligencia != null}" 
                                                                  listRespuestasXInteligencias="#{result.respuestaPorInteligencia}" ></ezcomp:EstadisticaInteligenciasMultiples>
                        <ezcomp:EstadisticaChaside 
                                    estadisticaEncuentaChaside="#{result.resultadoChaside}" ></ezcomp:EstadisticaChaside>

                    </p:outputPanel>
                    <!--</h:panelGrid>-->
                    <hr />
                </p:repeat>
            </h:panelGroup>
            <h:outputScript library="js" name="impresion_pdf.js"/>
    </cc:implementation>
</html>