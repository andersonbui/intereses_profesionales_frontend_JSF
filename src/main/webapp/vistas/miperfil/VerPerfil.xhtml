<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/principal.xhtml">


        <ui:define name="title">
            <h:outputText value="#{bundle.ListPersonaTitle}"></h:outputText>
        </ui:define>
        <ui:define name="content">
            <h:form id="PerfilViewForm">
                <h:panelGroup id="datalist">
                    <p:panelGrid columns="2" rendered="#{loginController.personaActual != null}">
                        <h:outputText value="#{bundle.PersonaLabel_nombre}"/>
                        <h:outputText value="#{loginController.personaActual.nombre}" title="#{bundle.PersonaTitle_nombre}"/>
                        <h:outputText value="#{bundle.PersonaLabel_apellido}"/>
                        <h:outputText value="#{loginController.personaActual.apellido}" title="#{bundle.PersonaTitle_apellido}"/>
                        <h:outputText value="#{bundle.PersonaLabel_email}"/>
                        <h:outputText value="#{loginController.personaActual.email}" title="#{bundle.PersonaTitle_email}"/>
                        <h:outputText value="#{bundle.PersonaLabel_direccion}"/>
                        <h:outputText value="#{loginController.personaActual.direccion}" title="#{bundle.PersonaTitle_direccion}"/>
                        <h:outputText value="#{bundle.PersonaLabel_identificacion}"/>
                        <h:outputText value="#{loginController.personaActual.identificacion}" title="#{bundle.PersonaTitle_identificacion}"/>
                        <h:outputText value="#{bundle.PersonaLabel_tipoIdentificacion}"/>
                        <h:outputText value="#{loginController.personaActual.tipoIdentificacion}" title="#{bundle.PersonaTitle_tipoIdentificacion}"/>
                        <h:outputText value="#{bundle.PersonaLabel_fechaNacimiento}"/>
                        <h:outputText value="#{loginController.personaActual.fechaNacimiento}" title="#{bundle.PersonaTitle_fechaNacimiento}">
                            <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                        </h:outputText>
                        <h:outputText value="#{bundle.PersonaLabel_sexo}"/>
                        <h:outputText value="#{loginController.personaActual.sexo}" title="#{bundle.PersonaTitle_sexo}"/>
                        <h:outputText value="#{bundle.Label_celular}"/>
                        <h:outputText value="#{loginController.personaActual.celular}" title="#{bundle.Title_celular}"/>
                        <h:outputText value="#{bundle.Label_Institucion}"/>
                        <h:outputText value="#{loginController.personaActual.idInstitucion.nombre}" title="#{bundle.Title_Institucion}"/>
<!--                        <h:outputText value="{bundle.Label_Grado}"
                                      rendered="{estudianteController.isEstudiante(loginController.personaActual)}"/>
                        <h:outputText value="{loginController.utimoGrado()}" rendered="{estudianteController.isEstudiante(loginController.personaActual)}" 
                                      title="#{bundle.Title_Grado}"/>-->
                        <h:outputText value="#{bundle.Label_ciudad}"/>
                        <h:outputText value="#{loginController.personaActual.idCiudad!=null?loginController.personaActual.idCiudad.nombre:''}" 
                                      title="#{bundle.Title_ciudad}"/>
                        <h:outputText value="#{bundle.UsuarioLabel_Usuario}"/>
                        <h:outputText value="#{loginController.personaActual.idUsuario!=null?loginController.personaActual.idUsuario.usuario:''}" 
                                      title="#{bundle.UsuarioTitle_Usuario}"/>
                    </p:panelGrid>
                    <p:commandButton id="editarPerfilButton" icon="ui-icon-pencil"   value="Editar perfil"
                                     actionListener="#{personaController.prepareUpdate(loginController.personaActual)}" 
                                     update=":PerfilEditForm" oncomplete="PF('PerfilEditDialog').show()"/>
                </h:panelGroup>
            </h:form>
            <ui:include src="EditarPerfil.xhtml"/>
        </ui:define>
    </ui:composition>
</html>
<!--
                        <h:outputText value="{bundle.PersonaLabel_tipo}"/>
                        <h:outputText value="{loginController.personaActual.tipo}" title="{bundle.PersonaTitle_tipo}"/>-->